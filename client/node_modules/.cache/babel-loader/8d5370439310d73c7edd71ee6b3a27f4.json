{"ast":null,"code":"var _jsxFileName = \"/home/r/react/flow-react-dia/src/#/flow.projects/apps/movie-app-react/client/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport Movie from './components/Movie';\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&page=1\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  useEffect(() => {\n    getMovies(FEATURED_API);\n  }, []);\n\n  const getMovies = API => {\n    fetch(API).then(res => res.json()).then(data => {\n      setMovies(data.results);\n    });\n  };\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n\n    if (searchTerm) {\n      getMovies(SEARCH_API + searchTerm);\n      setSearchTerm('');\n    }\n  };\n\n  const handleOnChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleOnSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search\",\n    type: \"search\",\n    placeholder: \"Search...\",\n    value: searchTerm,\n    onChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, movies.length > 0 && movies.map(movie => /*#__PURE__*/React.createElement(Movie, Object.assign({\n    key: movie.id\n  }, movie, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/r/react/flow-react-dia/src/#/flow.projects/apps/movie-app-react/client/src/App.js"],"names":["React","useEffect","useState","Movie","FEATURED_API","SEARCH_API","App","movies","setMovies","searchTerm","setSearchTerm","getMovies","API","fetch","then","res","json","data","results","handleOnSubmit","e","preventDefault","handleOnChange","target","value","length","map","movie","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,MAAMC,YAAY,GACd,qHADJ;AAGA,MAAMC,UAAU,GACZ,4FADJ;;AAGA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,EAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,SAAS,CAACP,YAAD,CAAT;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMO,SAAS,GAAGC,GAAD,IAAO;AACtBC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI;AACZT,MAAAA,SAAS,CAACS,IAAI,CAACC,OAAN,CAAT;AACD,KAJD;AAKD,GAND;;AAQA,QAAMC,cAAc,GAAIC,CAAD,IAAO;AAC5BA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAGZ,UAAH,EAAc;AACZE,MAAAA,SAAS,CAACN,UAAU,GAACI,UAAZ,CAAT;AAGFC,MAAAA,aAAa,CAAC,EAAD,CAAb;AACC;AACF,GATD;;AAWA,QAAMY,cAAc,GAAIF,CAAD,IAAO;AAC5BV,IAAAA,aAAa,CAACU,CAAC,CAACG,MAAF,CAASC,KAAV,CAAb;AACD,GAFD;;AAIA,sBACE,uDACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEL,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,QAAjB;AACO,IAAA,IAAI,EAAC,QADZ;AAEO,IAAA,WAAW,EAAC,WAFnB;AAGO,IAAA,KAAK,EAAEV,UAHd;AAIO,IAAA,QAAQ,EAAEa,cAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADA,eAYF;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGf,MAAM,CAACkB,MAAP,GAAgB,CAAhB,IACAlB,MAAM,CAACmB,GAAP,CAAYC,KAAD,iBACR,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAEA,KAAK,CAACC;AAAlB,KAA0BD,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADH,CAFH,CAZE,CADF;AAqBD;;AAED,eAAerB,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport Movie from './components/Movie';\n\nconst FEATURED_API =\n    \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&page=1\";\n\nconst SEARCH_API =\n    \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    getMovies(FEATURED_API);\n  }, []);\n\n  const getMovies =(API)=>{\n    fetch(API)\n    .then(res => res.json())\n    .then(data => {\n      setMovies(data.results);\n    });\n  }\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n\n    if(searchTerm){\n      getMovies(SEARCH_API+searchTerm);\n    \n\n    setSearchTerm('');\n    }\n  };\n\n  const handleOnChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n  \n  return (\n    <>\n    <header>\n      <form onSubmit={handleOnSubmit}>\n        <input className=\"search\" \n               type=\"search\" \n               placeholder=\"Search...\"\n               value={searchTerm}\n               onChange={handleOnChange}\n        />\n      </form>\n      \n    </header>\n  <div className=\"movie-container\">\n    {movies.length > 0 &&\n     movies.map((movie) => \n        <Movie key={movie.id} {...movie} />\n      )}\n  </div>\n   </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}